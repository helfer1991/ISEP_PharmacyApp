<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="789px" preserveAspectRatio="none" style="width:2630px;height:789px;" version="1.1" viewBox="0 0 2630 789" width="2630px" zoomAndPan="magnify"><defs><filter height="300%" id="f1s4yjw5buqxwy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="586.75" style="stroke:#A80036;stroke-width:1.0;" width="10" x="66.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="629.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="230.8828" style="stroke:#A80036;stroke-width:1.0;" width="10" x="629.5" y="273.3672"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="629.5" y="534.6016"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1108.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="153.9219" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1108.5" y="303.7188"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1108.5" y="564.9531"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1333.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1455.5" y="595.3047"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="123.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1563" y="334.0703"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="69.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1679" y="625.6563"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="83.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2023" y="374.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="71" x2="71" y1="89.6094" y2="704.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="634" x2="634" y1="89.6094" y2="704.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1113.5" x2="1113.5" y1="89.6094" y2="704.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1338.5" x2="1338.5" y1="89.6094" y2="704.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1460.5" x2="1460.5" y1="89.6094" y2="704.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1567.5" x2="1567.5" y1="89.6094" y2="704.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1683.5" x2="1683.5" y1="89.6094" y2="704.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2028" x2="2028" y1="375.375" y2="704.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2307" x2="2307" y1="468.5938" y2="704.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2450" x2="2450" y1="421.9844" y2="704.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2566" x2="2566" y1="89.6094" y2="704.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="5" y="86.5332">Non-registered User</text><ellipse cx="71.5" cy="15" fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M71.5,23 L71.5,50 M58.5,31 L84.5,31 M71.5,50 L58.5,65 M71.5,50 L84.5,65 " fill="none" filter="url(#f1s4yjw5buqxwy)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="5" y="717.8926">Non-registered User</text><ellipse cx="71.5" cy="730.9688" fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M71.5,738.9688 L71.5,765.9688 M58.5,746.9688 L84.5,746.9688 M71.5,765.9688 L58.5,780.9688 M71.5,765.9688 L84.5,780.9688 " fill="none" filter="url(#f1s4yjw5buqxwy)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="69" x="598" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="605" y="74.5332">:SignInUI</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="69" x="598" y="703.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="605" y="724.8926">:SignInUI</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="174" x="1024.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="1031.5" y="74.5332">:ManageClientsController</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="174" x="1024.5" y="703.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="1031.5" y="724.8926">:ManageClientsController</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1268.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1275.5" y="74.5332">:CommonController</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1268.5" y="703.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1275.5" y="724.8926">:CommonController</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="1418.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="1425.5" y="74.5332">ClientDTO</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="80" x="1418.5" y="703.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="1425.5" y="724.8926">ClientDTO</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="107" x="1512.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="1519.5" y="74.5332">DTOConverter</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="107" x="1512.5" y="703.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="1519.5" y="724.8926">DTOConverter</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="97" x="1633.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="1640.5" y="74.5332">ServiceClient</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="97" x="1633.5" y="703.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="1640.5" y="724.8926">ServiceClient</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="50" x="2001" y="703.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="2008" y="724.8926">Client</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="109" x="2251" y="703.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="2258" y="724.8926">cc:Credit_Card</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="99" x="2399" y="703.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="2406" y="724.8926">addr:Address</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="104" x="2512" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="2519" y="74.5332">cdb:ClienteDB</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="104" x="2512" y="703.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="2519" y="724.8926">cdb:ClienteDB</text><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="586.75" style="stroke:#A80036;stroke-width:1.0;" width="10" x="66.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="629.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="230.8828" style="stroke:#A80036;stroke-width:1.0;" width="10" x="629.5" y="273.3672"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="629.5" y="534.6016"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1108.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="153.9219" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1108.5" y="303.7188"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1108.5" y="564.9531"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1333.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1455.5" y="595.3047"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="123.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1563" y="334.0703"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="69.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1679" y="625.6563"/><rect fill="#FFFFFF" filter="url(#f1s4yjw5buqxwy)" height="83.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2023" y="374.4219"/><polygon fill="#A80036" points="617.5,117.9609,627.5,121.9609,617.5,125.9609,621.5,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="76.5" x2="623.5" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="83.5" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="94.5" y="117.1045">begins the process of registering as a client</text><polygon fill="#A80036" points="1096.5,148.3125,1106.5,152.3125,1096.5,156.3125,1100.5,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="639.5" x2="1102.5" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="646.5" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="657.5" y="147.4561">tmpAddressDTO = getAllAddresses()</text><polygon fill="#A80036" points="1321.5,178.6641,1331.5,182.6641,1321.5,186.6641,1325.5,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1118.5" x2="1327.5" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1125.5" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="1136.5" y="177.8076">addresses = getAddressGraph()</text><polygon fill="#A80036" points="87.5,239.0156,77.5,243.0156,87.5,247.0156,83.5,243.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="81.5" x2="633.5" y1="243.0156" y2="243.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="93.5" y="238.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="518" x="104.5" y="238.1592">asks for the necessary data(nif, name, email, password, number, ccv, valid_thru, address)</text><polygon fill="#A80036" points="617.5,269.3672,627.5,273.3672,617.5,277.3672,621.5,273.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="76.5" x2="623.5" y1="273.3672" y2="273.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="83.5" y="268.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="94.5" y="268.5107">inserts the data</text><polygon fill="#A80036" points="1096.5,299.7188,1106.5,303.7188,1096.5,307.7188,1100.5,303.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="639.5" x2="1102.5" y1="303.7188" y2="303.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="646.5" y="298.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="439" x="657.5" y="298.8623">newClientDTO(nif, name, email, password, number, ccv, valid_thru, address)</text><polygon fill="#A80036" points="1551,330.0703,1561,334.0703,1551,338.0703,1555,334.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1118.5" x2="1557" y1="334.0703" y2="334.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1125.5" y="329.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="1136.5" y="329.2139">c = convertClientDTO(clientDTO)</text><polygon fill="#A80036" points="1989,360.4219,1999,364.4219,1989,368.4219,1993,364.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1573" x2="1995" y1="364.4219" y2="364.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1580" y="359.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="393" x="1591" y="359.5654">create(nif, name, email, password, number, ccv, valid_thru, address)</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="50" x="2001" y="342.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="2008" y="363.6035">Client</text><polygon fill="#A80036" points="2387,407.0313,2397,411.0313,2387,415.0313,2391,411.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2033" x2="2393" y1="411.0313" y2="411.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="2040" y="406.1748">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="331" x="2051" y="406.1748">create(id_address, address, latitude, longitude, zip_code)</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="99" x="2399" y="388.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="2406" y="410.2129">addr:Address</text><polygon fill="#A80036" points="2239,453.6406,2249,457.6406,2239,461.6406,2243,457.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2028" x2="2245" y1="457.6406" y2="457.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2035" y="452.7842">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="2053" y="452.7842">create(number, ccv, valid_thru)</text><rect fill="#FEFECE" filter="url(#f1s4yjw5buqxwy)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="109" x="2251" y="435.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="2258" y="456.8223">cc:Credit_Card</text><polygon fill="#A80036" points="87.5,500.25,77.5,504.25,87.5,508.25,83.5,504.25" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="81.5" x2="633.5" y1="504.25" y2="504.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="93.5" y="499.3936">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="463" x="111.5" y="499.3936">validates the data, presents it and asks the unregistered user for its confirmation</text><polygon fill="#A80036" points="617.5,530.6016,627.5,534.6016,617.5,538.6016,621.5,534.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="76.5" x2="623.5" y1="534.6016" y2="534.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="83.5" y="529.7451">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="101.5" y="529.7451">confirms</text><polygon fill="#A80036" points="1096.5,560.9531,1106.5,564.9531,1096.5,568.9531,1100.5,564.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="639.5" x2="1102.5" y1="564.9531" y2="564.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="646.5" y="560.0967">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="664.5" y="560.0967">registerClient()</text><polygon fill="#A80036" points="1443.5,591.3047,1453.5,595.3047,1443.5,599.3047,1447.5,595.3047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1118.5" x2="1449.5" y1="595.3047" y2="595.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1125.5" y="590.4482">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="1143.5" y="590.4482">registerClient(c)</text><polygon fill="#A80036" points="1667,621.6563,1677,625.6563,1667,629.6563,1671,625.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1465.5" x2="1673" y1="625.6563" y2="625.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1472.5" y="620.7998">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="1490.5" y="620.7998">insertClient(c)</text><polygon fill="#A80036" points="2554,652.0078,2564,656.0078,2554,660.0078,2558,656.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1689" x2="2560" y1="656.0078" y2="656.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1696" y="651.1514">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="1714" y="651.1514">insertClient(c)</text><polygon fill="#A80036" points="82.5,682.3594,72.5,686.3594,82.5,690.3594,78.5,686.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="76.5" x2="633.5" y1="686.3594" y2="686.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="88.5" y="681.5029">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="411" x="106.5" y="681.5029">registers the user as a client and confirms the success of the operation</text><!--MD5=[15c73154796a69b18cc364021b89dc28]
@startuml
autonumber

actor "Non-registered User" as NRU
participant ":SignInUI" as UI
participant ":ManageClientsController" as CTRL
participant ":CommonController" as CCTRL
participant "ClientDTO" as CLTDTO
participant "DTOConverter" as DTOC
participant "ServiceClient" as SCLT
participant "Client" as CLT
participant "cc:Credit_Card" as CC
participant "addr:Address" as ADDR
participant "cdb:ClienteDB" as CDB

activate NRU
NRU -> UI : begins the process of registering as a client
activate UI
UI -> CTRL : tmpAddressDTO = getAllAddresses()
activate CTRL
CTRL -> CCTRL : addresses = getAddressGraph()
activate CCTRL
deactivate CCTRL
deactivate CTRL
NRU <- UI : asks for the necessary data(nif, name, email, password, number, ccv, valid_thru, address)
deactivate UI


NRU -> UI : inserts the data
activate UI
UI -> CTRL : newClientDTO(nif, name, email, password, number, ccv, valid_thru, address)
activate CTRL

CTRL -> DTOC: c = convertClientDTO(clientDTO)
activate DTOC
DTOC -> CLT ** : create(nif, name, email, password, number, ccv, valid_thru, address)
activate CLT
CLT -> ADDR ** : create(id_address, address, latitude, longitude, zip_code)
CLT - -> CC ** : create(number, ccv, valid_thru)
deactivate CLT
deactivate DTOC
deactivate CTRL
UI - -> NRU :  validates the data, presents it and asks the unregistered user for its confirmation
deactivate UI

NRU -> UI : confirms
activate UI

UI -> CTRL: registerClient()
activate CTRL
CTRL -> CLTDTO: registerClient(c)
activate CLTDTO
CLTDTO -> SCLT : insertClient(c)
activate SCLT
SCLT -> CDB : insertClient(c)
deactivate CLTDTO

deactivate CTRL
UI - -> NRU : registers the user as a client and confirms the success of the operation
deactivate UI

deactivate NRU
@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 WET 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>